@startuml
skinparam Shadowing true
actor "Агент" as agent
boundary "  Главное меню\n        агента" as mainMenuAg
boundary "Окно заключения\n        договора" as contractWindow 
boundary "Окно ошибки" as errorWindow #Red

control "      Открытие окна\nзаключения договора" as contractWindowControl
control "Обновление базы\n         данных" as updateDatabase
control "Проверка корректности\n             данных" as checkCorrectData
control "Открытие окна\n       ошибки" as errorWindowControl
entity "Файловая система" as fs


agent -u- mainMenuAg  
mainMenuAg -l-> contractWindowControl : Нажата кнопка\n заключить договор
contractWindowControl -l-> contractWindow
contractWindow -l-> checkCorrectData
checkCorrectData --> errorWindowControl
errorWindowControl --> errorWindow
checkCorrectData --> updateDatabase 
updateDatabase <--> fs

agent -- contractWindow
agent -- errorWindow
@enduml

